from bot.utils.api_sdk import CampaignResponse

VALIDATION_MESSAGES = {
    "integer": "‚ö†Ô∏è –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä: 1000)",
    "float": "‚ö†Ô∏è –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ —Å —Ç–æ—á–∫–æ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä: 0.99)",
    "targeting": """‚ö†Ô∏è –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Ç–∞—Ä–≥–µ—Ç–∏–Ω–≥ –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
<code>–ø–æ–ª,–≤–æ–∑—Ä–∞—Å—Ç_–æ—Ç,–≤–æ–∑—Ä–∞—Å—Ç_–¥–æ,—Ä–µ–≥–∏–æ–Ω</code>

–ü—Ä–∏–º–µ—Ä—ã:
‚Ä¢ ALL,18,65,–ú–æ—Å–∫–≤–∞
‚Ä¢ male,25,45,–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥
‚Ä¢ female,30,50,–ö–∞–∑–∞–Ω—å"""
}

PARAM_EDIT_INSTRUCTIONS = {
    "impressions_limit": {
        "name": "–ª–∏–º–∏—Ç –ø–æ–∫–∞–∑–æ–≤",
        "description": "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–∫–∞–∑–æ–≤ —Ä–µ–∫–ª–∞–º—ã",
        "format": "—Ü–µ–ª–æ–µ —á–∏—Å–ª–æ",
        "example": "10000"
    },
    "clicks_limit": {
        "name": "–ª–∏–º–∏—Ç –∫–ª–∏–∫–æ–≤",
        "description": "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∏–∫–æ–≤ –ø–æ —Ä–µ–∫–ª–∞–º–µ",
        "format": "—Ü–µ–ª–æ–µ —á–∏—Å–ª–æ",
        "example": "1000"
    },
    "cost_per_impression": {
        "name": "—Ü–µ–Ω–∞ –∑–∞ –ø–æ–∫–∞–∑",
        "description": "–°—Ç–æ–∏–º–æ—Å—Ç—å –æ–¥–Ω–æ–≥–æ –ø–æ–∫–∞–∑–∞ —Ä–µ–∫–ª–∞–º—ã",
        "format": "—á–∏—Å–ª–æ —Å —Ç–æ—á–∫–æ–π",
        "example": "0.50"
    },
    "cost_per_click": {
        "name": "—Ü–µ–Ω–∞ –∑–∞ –∫–ª–∏–∫",
        "description": "–°—Ç–æ–∏–º–æ—Å—Ç—å –æ–¥–Ω–æ–≥–æ –∫–ª–∏–∫–∞ –ø–æ —Ä–µ–∫–ª–∞–º–µ",
        "format": "—á–∏—Å–ª–æ —Å —Ç–æ—á–∫–æ–π",
        "example": "10.00"
    },
    "ad_title": {
        "name": "–∑–∞–≥–æ–ª–æ–≤–æ–∫ –æ–±—ä—è–≤–ª–µ–Ω–∏—è",
        "description": "–ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ä–µ–∫–ª–∞–º–Ω–æ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è",
        "format": "—Ç–µ–∫—Å—Ç",
        "example": "–°–∫–∏–¥–∫–∞ 50% –Ω–∞ –≤—Å–µ —Ç–æ–≤–∞—Ä—ã!"
    },
    "ad_text": {
        "name": "—Ç–µ–∫—Å—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏—è",
        "description": "–û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç —Ä–µ–∫–ª–∞–º–Ω–æ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è",
        "format": "—Ç–µ–∫—Å—Ç",
        "example": "–¢–æ–ª—å–∫–æ –¥–æ –∫–æ–Ω—Ü–∞ –Ω–µ–¥–µ–ª–∏! –£—Å–ø–µ–π—Ç–µ –∫—É–ø–∏—Ç—å..."
    },
    "start_date": {
        "name": "–¥–∞—Ç–∞ –Ω–∞—á–∞–ª–∞",
        "description": "–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –ø–æ–∫–∞–∑–∞ —Ä–µ–∫–ª–∞–º—ã",
        "format": "—Ü–µ–ª–æ–µ —á–∏—Å–ª–æ",
        "example": "1"
    },
    "end_date": {
        "name": "–¥–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è",
        "description": "–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –ø–æ–∫–∞–∑–∞ —Ä–µ–∫–ª–∞–º—ã",
        "format": "—Ü–µ–ª–æ–µ —á–∏—Å–ª–æ",
        "example": "14"
    },
    "targeting": {
        "name": "–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–∞—Ä–≥–µ—Ç–∏–Ω–≥–∞",
        "description": "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–∞—Ä–≥–µ—Ç–∏–Ω–≥–∞ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é: –ø–æ–ª,–≤–æ–∑—Ä–∞—Å—Ç_–æ—Ç,–≤–æ–∑—Ä–∞—Å—Ç_–¥–æ,—Ä–µ–≥–∏–æ–Ω",
        "format": "—á–µ—Ç—ã—Ä–µ –∑–Ω–∞—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é",
        "example": "ALL,18,65,–ú–æ—Å–∫–≤–∞"
    },
    "ad_photo_url": {
        "name": "—Ñ–æ—Ç–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è",
        "description": "–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –¥–ª—è —Ä–µ–∫–ª–∞–º–Ω–æ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è (–æ—Ç–ø—Ä–∞–≤—å—Ç–µ –Ω–æ–≤–æ–µ —Ñ–æ—Ç–æ –∏–ª–∏ —Å—Å—ã–ª–∫—É)",
        "format": "–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–ª–∏ URL",
        "example": "https://example.com/image.jpg"
    }
}


def format_campaign_message(campaign: CampaignResponse) -> str:
    """–§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Ä–µ–∫–ª–∞–º–Ω–æ–π –∫–∞–º–ø–∞–Ω–∏–∏"""
    return f"""
<b>üìë –†–µ–∫–ª–∞–º–Ω–∞—è –∫–∞–º–ø–∞–Ω–∏—è</b>
ID: <code>{campaign.campaign_id}</code>

<b>üìù –ö–æ–Ω—Ç–µ–Ω—Ç:</b>
‚îî –ó–∞–≥–æ–ª–æ–≤–æ–∫: {campaign.ad_title}
‚îî –¢–µ–∫—Å—Ç: {campaign.ad_text}
{'‚îî –§–æ—Ç–æ: –ü—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–æ ‚úÖ' if campaign.ad_photo_url else '‚îî –§–æ—Ç–æ: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ‚ùå'}

<b>‚öôÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–∞–º–ø–∞–Ω–∏–∏:</b>
‚îî –õ–∏–º–∏—Ç –ø–æ–∫–∞–∑–æ–≤: {campaign.impressions_limit:,}
‚îî –õ–∏–º–∏—Ç –∫–ª–∏–∫–æ–≤: {campaign.clicks_limit:,}
‚îî –¶–µ–Ω–∞ –∑–∞ –ø–æ–∫–∞–∑: {campaign.cost_per_impression:.2f} ‚ÇΩ
‚îî –¶–µ–Ω–∞ –∑–∞ –∫–ª–∏–∫: {campaign.cost_per_click:.2f} ‚ÇΩ

<b>üìÖ –ü–µ—Ä–∏–æ–¥ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è:</b>
‚îî –ù–∞—á–∞–ª–æ: {campaign.start_date}
‚îî –ö–æ–Ω–µ—Ü: {campaign.end_date}

<b>üéØ –¢–∞—Ä–≥–µ—Ç–∏–Ω–≥:</b>
{'‚îî –ü–æ–ª: ' + ('–ú—É–∂—Å–∫–æ–π üë®' if campaign.targeting.gender == 'male' else '–ñ–µ–Ω—Å–∫–∏–π üë©' if campaign.targeting.gender == 'female' else '–í—Å–µ ‚ö§')}
‚îî –í–æ–∑—Ä–∞—Å—Ç: {f'–æ—Ç {campaign.targeting.age_from} –¥–æ {campaign.targeting.age_to} –ª–µ—Ç' if campaign.targeting.age_from and campaign.targeting.age_to else '–ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π'}
‚îî –†–µ–≥–∏–æ–Ω: {campaign.targeting.location if campaign.targeting.location else '–í—Å–µ —Ä–µ–≥–∏–æ–Ω—ã'}"""


def get_param_name(param: str) -> str:
    param_names = {
        "impressions_limit": "–ª–∏–º–∏—Ç –ø–æ–∫–∞–∑–æ–≤",
        "clicks_limit": "–ª–∏–º–∏—Ç –∫–ª–∏–∫–æ–≤",
        "cost_per_impression": "—Ü–µ–Ω–∞ –∑–∞ –ø–æ–∫–∞–∑",
        "cost_per_click": "—Ü–µ–Ω–∞ –∑–∞ –∫–ª–∏–∫",
        "ad_title": "–∑–∞–≥–æ–ª–æ–≤–æ–∫",
        "ad_text": "—Ç–µ–∫—Å—Ç",
        "start_date": "–¥–∞—Ç—É –Ω–∞—á–∞–ª–∞",
        "end_date": "–¥–∞—Ç—É –æ–∫–æ–Ω—á–∞–Ω–∏—è",
        "targeting": "—Ç–∞—Ä–≥–µ—Ç–∏–Ω–≥"
    }
    return param_names.get(param, param)
